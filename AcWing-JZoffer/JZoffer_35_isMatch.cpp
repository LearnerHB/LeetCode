/**	æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…		ğŸŒŸğŸŒŸğŸŒŸ

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…æ‹¬'.'å’Œ'*'çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

æ¨¡å¼ä¸­çš„å­—ç¬¦'.'è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ'*'è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚
åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚
ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²"aaa"ä¸æ¨¡å¼"a.a"å’Œ"ab*ac*a"åŒ¹é…ï¼Œä½†æ˜¯ä¸"aa.a"å’Œ"ab*a"å‡ä¸åŒ¹é…ã€‚

æ ·ä¾‹

è¾“å…¥ï¼š
s="aa"
p="a*"
è¾“å‡º:true

æ€è·¯
(åŠ¨æ€è§„åˆ’)
çŠ¶æ€è¡¨ç¤ºï¼šf[i][j]è¡¨ç¤ºpä»jå¼€å§‹åˆ°ç»“å°¾ï¼Œæ˜¯å¦èƒ½åŒ¹é…sä»iå¼€å§‹åˆ°ç»“å°¾
çŠ¶æ€è½¬ç§»ï¼š

1. å¦‚æœp[j+1]ä¸æ˜¯é€šé…ç¬¦'*'ï¼Œåˆ™f[i][j]æ˜¯çœŸï¼Œå½“ä¸”ä»…å½“s[i]å¯ä»¥å’Œp[j]åŒ¹é…ï¼Œä¸”f[i+1][j+1]æ˜¯çœŸï¼›
2. å¦‚æœp[j+1]æ˜¯é€šé…ç¬¦'*'ï¼Œåˆ™ä¸‹é¢çš„æƒ…å†µåªè¦æœ‰ä¸€ç§æ»¡è¶³ï¼Œf[i][j]å°±æ˜¯çœŸï¼›
	f[i][j+2]æ˜¯çœŸï¼›â€”â€”> è¡¨ç¤º a* æšä¸¾0ä¸ª aï¼›
	s[i]å¯ä»¥å’Œp[j]åŒ¹é…ï¼Œä¸”f[i+1][j]æ˜¯çœŸï¼›â€”â€”> è¡¨ç¤º a* æšä¸¾1ä¸ªä»¥åŠä»¥ä¸Šçš„ a ï¼Œå„ç§æƒ…å†µéƒ½åŒ…å«åœ¨f[i+1][j]ä¸­

*/

class Solution {
public:
	int n, m;
	vector<vector<int>> f;	//ä½œä¸ºåŠ¨æ€è§„åˆ’çš„è®¡ç®—æ•°ç»„ï¼Œè¦æ±‚çš„æ˜¯f[x][y]
    bool isMatch(string s, string p) {
        n = s.size();
        m = p.size();
        f = vector<vector<int>>(n+1, vector<int>(m+1, -1));
        return dp(0, 0, s, p);
    }

    bool dp(int x, int y, string &s, string &p){
    	if (f[x][y] != -1)
    		return f[x][y];
    	if (y == m)
    		return f[x][y] = x == n;	// ???


    	bool first_match = (x<n && (s[x]==p[y] || p[y]=='.'));
    	bool ans;
    	if (y + 1 < m && p[y+1]=='*')
    		ans = dp(x, y+2, s, p) || first_match && dp(x+1, y, s, p);
    	else 
    		ans = first_match && dp(x+1, y+1, s, p);
    	return f[x][y] = ans;
    }
};
